---
layout: post
title: "명령어 0707v 공유"
date: 2025-08-10
categories:
  - "CISCO_STUDY/Quick Guide/cli 명령어"
tags:
---

# cli 명령어 0707v 공유

✅ Cisco IOS CLI 명령어 통합 정리

---

## 📁 1. 기본 CLI 조작

| 명령어 | 설명 |
| --- | --- |
| `enable` | 사용자 모드 → 특권 모드 |
| `disable` | 특권 모드 → 사용자 모드 |
| `configure terminal` | 설정 모드 진입 |
| `exit` / `end` | 모드 종료 (한 단계/전역) |
| `hostname [이름]` | 장비 이름 변경 (※ SSH 키 생성에 필수) |
| `banner motd #[메시지]#` | 로그인 MOTD 배너 설정 |
| `no ip domain-lookup` | 잘못된 명령 시 도메인 조회 방지 |
| `clock set HH:MM:SS DD MMM YYYY` | 수동 시간 설정 |
| `show clock` | 현재 시간 확인 |
| `license` | 라이센스 관련 (장비에 따라 다름) |

---

## 🔍 2. 상태 확인 명령어

| 명령어 | 설명 |  |
| --- | --- | --- |
| `show running-config` | 현재 설정 (RAM) |  |
| `show startup-config` | 부팅 시 설정 (NVRAM) |  |
| `show ip interface brief` | IP/인터페이스 상태 요약 |  |
| `show interfaces` | 인터페이스 상세 정보 |  |
| `show version` | IOS 정보, 업타임 등 |  |
| `show vlan brief` | VLAN 요약 |  |
| `show mac address-table` | MAC 주소 테이블 |  |
| `show arp` | ARP 캐시 확인 |  |
| `show cdp neighbors` | CDP 인접 장비 확인 |  |
| `show history` | 명령어 기록 |  |
| `show ip route` | 라우팅 테이블 |  |
| `show ip protocols` | 라우팅 프로토콜 정보 확인 |  |
| `show ssh` | SSH 연결 상태 확인 |  |
| `show key chain` | RIP 인증 키 확인 |  |
| `debug ip rip` / `undebug all` | RIP 디버깅 / 해제 |  |

---

## 🌐 3. IP 및 인터페이스 설정

```
interface g0/1
ip address 192.168.1.1 255.255.255.0
no shutdown
```

| 명령어 | 설명 |
| --- | --- |
| `interface [이름]` | 인터페이스 진입 |
| `ip address [IP] [MASK]` | IP 설정 |
| `no shutdown` / `shutdown` | 인터페이스 활성/비활성 |
| `clock rate 64000` | DCE 장비 클럭 속도 설정 |
| `ip default-gateway [IP]` | 기본 게이트웨이 설정 (L2 스위치) |
| `interface loopback 0` | 루프백 인터페이스 생성 |
| `ip address ... secondary` | 보조 IP 추가 |

---

## 📦 4. VLAN 및 스위치 설정

```
vlan 10
name IT
interface f0/1
switchport mode access
switchport access vlan 10
```

| 명령어 | 설명 |
| --- | --- |
| `vlan [번호]` | VLAN 생성 |
| `name [이름]` | VLAN 이름 지정 |
| `switchport mode access` | 액세스 모드 설정 |
| `switchport access vlan [번호]` | 포트를 VLAN에 연결 |
| `switchport mode trunk` | 트렁크 포트 설정 |
| `interface vlan1` | VLAN 인터페이스 진입 |

---

## 📡 5. 라우팅 설정

### ● 정적 라우팅

```
ip route 0.0.0.0 0.0.0.0 192.168.1.1
```

| 명령어 | 설명 |
| --- | --- |
| `ip route [대상] [서브넷] [게이트웨이]` | 정적 라우팅 추가 |

### ● 동적 라우팅 (RIP)

```
router rip
version 2
network 192.168.1.0
no auto-summary
passive-interface [이름]
default-information originate
```

| 명령어 | 설명 |
| --- | --- |
| `router rip` | RIP 라우팅 시작 |
| `version 2` | RIP 버전 2 사용 |
| `network [주소]` | RIP 대상 네트워크 설정 |
| `no auto-summary` | 자동 요약 비활성화 |
| `ip summary-address rip A.B.C.D MASK` | RIP 요약 주소 (인터페이스 모드) |
| `passive-interface [이름]` | RIP 정보 비전송 인터페이스 |
| `default-information originate` | 기본 경로 광고 |

### 📏 Administrative Distance

| 라우팅 종류 | AD 값 |
| --- | --- |
| Direct Connect | 0 |
| Static Route | 1 |
| EIGRP | 90 |
| OSPF | 110 |
| RIP | 120 |

> RIP: 짧은 홉 수 우선 (최대 15홉, 16 = 무한대)
여러 경로 존재 시 AD 우선순위 중요
> 

---

## 🔐 6. 보안 설정 및 인증

### ● 콘솔/VTY 암호 설정

```
line console 0
password cisco
login
logging synchronous
exec-timeout 0
```

```
line vty 0 4
password cisco
login
```

### ● 사용자 계정 및 권한

```
username user1 password cisco
username admin privilege 15 password cisco
```

| 명령어 | 설명 |
| --- | --- |
| `enable secret [비번]` | 암호화된 enable 비밀번호 |
| `service password-encryption` | 평문 암호 암호화 |
| `privilege level 15` | 최고 권한 |

### ● RIP 인증 (MD5)

```
key chain cisco
 key 1
  key-string 1234
interface f0/0
 ip rip authentication mode md5
 ip rip authentication key-chain cisco
```

| 명령어 | 설명 |
| --- | --- |
| `ip rip authentication mode md5` | RIP MD5 인증 활성화 |
| `ip rip authentication key-chain [이름]` | 인증 키 체인 설정 |
| `key chain [이름]` | Key Chain 생성 |
| `key [번호]` | Key 번호 지정 |
| `key-string [비밀번호]` | 인증 키 문자열 |

---

## 🔐 7. SSH 설정

```
hostname R1
ip domain-name cisco.com
crypto key generate rsa
ip ssh version 2
line vty 0 4
 login local
 transport input ssh
```

> SSH v2는 RSA 1024bit 이상 필요
> 

---

## ⏱ 8. Syslog 및 NTP

```
logging 203.230.7.2
service timestamps log datetime msec
ntp server 203.230.7.2
```

---

## 🌍 9. DHCP & IPv6

### ● DHCP 프로세스

| 단계 | 설명 |
| --- | --- |
| Discover | 단말 → DHCP (0.0.0.0로 보냄) |
| Offer | DHCP 서버 → 단말 |
| 실패 시 | 자동 할당 IP: 169.x.x.x |

### ● IPv6 주요 개념

| 항목 | 설명 |
| --- | --- |
| 주소 길이 | 128비트, 16비트 × 8필드 |
| 압축 | `::` 사용 (ex. `BEAF::ABC:0:FFFF`) |
| SLAAC | PC가 MAC 기반으로 주소 생성 (충돌 없음) |
| DHCPv6 | 서버 기반 주소 할당 방식 |

### ● 주소 유형

- **GUA (Global Unicast Address)**: 공인 주소
- **LLA (Link-Local Address)**: 자동 생성, `FE80::/10`
- **ULA (Unique Local Address)**: 사설 주소

### ● IPv6 헤더 필드

| 필드 | 설명 |
| --- | --- |
| 트래픽 클래스 | QoS 용도 |
| 플로우 레이블 | 연결 추적용 |
| Next Header | 확장 헤더 식별 |
| Hop Limit | TTL 기능 |

### ● IPv6 라우팅

```
ipv6 unicast-routing
interface g0/0
 ipv6 address FE80::1 link-local
 ipv6 address 2001:abcd::1/64
```

### ● IPv6 주소 구조

| 필드 | 설명 |
| --- | --- |
| Global Routing Prefix | 상위 48비트 (ISP 할당) |
| Subnet ID | 중간 16비트 |
| Interface ID | 하위 64비트 (EUI-64) |

---

## 📡 10. IPv6 전환 기술

| 기술 | 설명 |
| --- | --- |
| 듀얼 스택 | IPv4와 IPv6 동시 운영 |
| 터널링 | IPv6 패킷을 IPv4에 캡슐화 |
| 트랜슬레이션 | IPv6 ↔ IPv4 주소 변환 |

---

## 📨 11. IP 통신 종류

| 종류 | 설명 |
| --- | --- |
| Unicast | 1:1 통신 |
| Multicast | 그룹 통신 |
| Broadcast | 전체 통신 (※ IPv6에는 없음) |
| Anycast | 여러 노드 중 가까운 한 곳으로 전송 (예: DNS) |

---

## 📦 12. 패킷 처리 기술

- **버퍼(FIFO)**: 순서대로 전송
- **QoS**: 트래픽 우선순위 분류

---

## 🔁 13. 설정 저장 및 초기화

| 명령어 | 설명 |
| --- | --- |
| `copy running-config startup-config` | 설정 저장 |
| `write memory` | 설정 저장 (동일 기능) |
| `reload` | 장비 재부팅 |
| `erase startup-config` | 설정 초기화 |
| `delete vlan.dat` | VLAN 정보 초기화 (스위치) |

---

## ⌨️ 14. 편의 기능

| 키/명령 | 설명 |
| --- | --- |
| `TAB` | 자동완성 |
| `?` | 도움말 보기 |
| `↑ / ↓` | 명령어 히스토리 |
| `Ctrl+C` | 현재 명령 중단 |
| `Ctrl+Z` | 설정 종료 + 특권 모드 이동 |
| `Ctrl+Shift+6` | 연결 중단 (Telnet 등) |

---

📌 *Best Route = Longest Match* 원칙: 가능한 한 **세부 서브넷** 기준으로 라우팅

📌 *자동화, 네트워크 장비 제어는 SSH 기반이 기본*

sdm prefer dualstack

## ✅ EIGRP 전통 모드(Classic Mode)

### ▶ 구성 순서 예시

```bash
bash
복사편집
router(config)# router eigrp [AS-number]
router(config-router)# eigrp router-id [Loopback IP]
router(config-router)# network [IP address] [Wildcard]
router(config-router)# passive-interface default
router(config-router)# no passive-interface [Interface]

```

### ▶ 인접 관계 유지 설정

```bash
bash
복사편집
router(config-if)# ip hello-interval eigrp [AS-number] [Seconds]
router(config-if)# ip hold-time eigrp [AS-number] [Seconds]

```

### ▶ 인터페이스 대역폭 설정 (metric 계산용)

```bash
bash
복사편집
router(config-if)# bandwidth [kbps]

```

### ▶ 요약 라우팅 설정

```bash
bash
복사편집
router(config-if)# ip summary-address eigrp [AS-number] [IP] [Subnet Mask]

```

### ▶ 주요 확인 명령어

```bash
bash
복사편집
show ip eigrp interfaces detail
show ip eigrp neighbors
show ip eigrp topology all-links

```

---

## ✅ EIGRP Named 모드

### ▶ 기본 구성 단계

```bash
bash
복사편집
router(config)# router eigrp [NAME]
router(config-router)# address-family ipv4 unicast autonomous-system [AS-number]
router(config-router-af)# network [IP address] [Wildcard]

```

### ▶ 인터페이스별 설정 (AF-Interface Mode)

```bash
bash
복사편집
router(config-router-af)# af-interface [Interface or default]
router(config-router-af-interface)# passive-interface
router(config-router-af-interface)# no passive-interface
router(config-router-af-interface)# authentication mode hmac-sha256 [Key]
router(config-router-af-interface)# summary-address [IP] [Subnet Mask]

```

### ▶ 토폴로지 관련 설정

```bash
bash
복사편집
router(config-router-af)# topology base
router(config-router-af-topology)# variance [Value]

```

---

## 📌 용어 정리 및 참고

| 항목 | 설명 |
| --- | --- |
| **AS Number** | EIGRP의 자율 시스템 번호. 동일해야 인접 가능 |
| **Router-ID** | 라우터를 구분하는 고유 ID. 루프백이 안정적 |
| **Network 명령어** | 라우팅할 네트워크 범위 지정 |
| **Passive Interface** | 인접 형성 X (라우팅은 수행) |
| **Hello/Hold Time** | 인접 유지용 타이머 설정 |
| **Bandwidth** | Metric 계산 기준. kbps 단위 |
| **Summary Address** | 경로 요약으로 라우팅 테이블 축소 |
| **Variance** | Unequal-cost load balancing 허용값 |

---

## ✅ 시각적 구성 예시 비교

| 항목 | Classic Mode | Named Mode |
| --- | --- | --- |
| 선언 방식 | `router eigrp 1` | `router eigrp CCNP` |
| 네트워크 설정 | `network 10.0.0.0 0.0.0.255` | `address-family ipv4...` 하위에서 설정 |
| 인터페이스 설정 | 인터페이스 모드 직접 이동 | `af-interface` 블록에서 설정 |
| 패시브 인터페이스 | `passive-interface default` | `af-interface default` 안에서 설정 |
| 인증 설정 | 어려움 | `authentication mode hmac-sha256` 명확 |
| 요약 설정 | `ip summary-address eigrp...` | `summary-address ...` |
| 토폴로지 설정 | 기본 포함 | `topology base` 명시 필요 |

show cdp ne