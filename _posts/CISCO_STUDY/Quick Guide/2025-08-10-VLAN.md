---
layout: post
title: "VLAN"
date: 2025-08-10
categories:
  - "CISCO_STUDY/Quick Guide"
tags:
---


# VLAN

[Access모드의 의미](VLAN%20237f223521738098811ed47363332073/Access%E1%84%86%E1%85%A9%E1%84%83%E1%85%B3%E1%84%8B%E1%85%B4%20%E1%84%8B%E1%85%B4%E1%84%86%E1%85%B5%20237f2235217380e3b695fb48b22d4539.md)

[VLAN과 네트워크(3Layer IP)](VLAN%20237f223521738098811ed47363332073/VLAN%E1%84%80%E1%85%AA%20%E1%84%82%E1%85%A6%E1%84%90%E1%85%B3%E1%84%8B%E1%85%AF%E1%84%8F%E1%85%B3(3Layer%20IP)%20237f22352173801eaf5df0fbac94d322.md)

[VLAN 명령어](VLAN%20237f223521738098811ed47363332073/VLAN%20%E1%84%86%E1%85%A7%E1%86%BC%E1%84%85%E1%85%A7%E1%86%BC%E1%84%8B%E1%85%A5%20237f2235217380ebbf2bd894a7585e5c.md)

[Native Vlan](VLAN%20237f223521738098811ed47363332073/Native%20Vlan%20237f22352173801f9d15db5d5dea52b1.md)

[Router Vlan](VLAN%20237f223521738098811ed47363332073/Router%20Vlan%20237f22352173803aa337ee4e7170d24c.md)

[inter routing 문제](VLAN%20237f223521738098811ed47363332073/inter%20routing%20%E1%84%86%E1%85%AE%E1%86%AB%E1%84%8C%E1%85%A6%20238f22352173800bb2b6de02662c98f4.md)

[VLAN Trougleshooting](VLAN%20237f223521738098811ed47363332073/VLAN%20Trougleshooting%20238f2235217380a0b924f12a5381e438.md)

## 🔹 1. Access Port

### ✅ 정의:

- 한 개의 VLAN만을 처리하는 포트
- **PC, 프린터 등 단일 장비가 연결되는 포트**에 주로 사용

### ✅ 특징:

- 포트에 연결된 장비는 **VLAN 태그 없이 통신**함
- 스위치는 이 포트에서 들어온 트래픽을 설정된 VLAN에 속한 것으로 간주

### ✅ 명령 예시 (Cisco IOS):

```bash
bash
복사편집
interface FastEthernet0/1
 switchport mode access
 switchport access vlan 10

```

## 🔹 2. Trunk Port

### ✅ 정의:

- **여러 VLAN의 트래픽을 동시에 전달하는 포트**
- 주로 **스위치 간 연결**이나 **스위치 ↔ 라우터/서버 연결**에 사용

### ✅ 특징:

- *802.1Q 태깅(Tagging)**을 통해 VLAN 정보를 프레임에 포함시켜 전송
- 받는 쪽 장비도 trunk 포트로 설정되어 있어야 함

### ✅ 명령 예시:

```bash
bash
복사편집
interface FastEthernet0/2
 switchport mode trunk

```

### ✅ 예시 상황:

스위치 A와 B를 trunk로 연결하면, A의 VLAN 10, VLAN 20 트래픽이 태그와 함께 B로 전달됨.

## ✅ 정답 요약:

| 설정 여부 | 동작 |
| --- | --- |
| `switchport trunk allowed vlan`을 **설정 안 함** | **기본값: 모든 VLAN (`1-4094`) 허용** |
| `switchport trunk allowed vlan`을 **명시적으로 설정함** | 설정한 VLAN만 태그를 붙여 전송/수신 |

## 🔹 3. Native VLAN

### ✅ 정의:

- Trunk 포트에서 **VLAN 태그가 없는 트래픽(untagged traffic)**이 속하는 VLAN
- 기본값은 VLAN 1

### ✅ 왜 필요하냐면?

**Trunk 포트는 일반적으로 VLAN 태그가 붙은 프레임을 처리하지만,**

**어떤 이유로든 VLAN 태그가 없는 트래픽이 들어올 경우, 해당 트래픽을 어느 VLAN으로 간주할지 지정해줘야 하는데, 이때 사용하는 것이 Native VLAN**

### ✅ 예시:

```bash
bash
복사편집
interface FastEthernet0/2
 switchport trunk native vlan 99

```

이렇게 하면 해당 포트로 들어오는 태그 없는 트래픽은 VLAN 99로 인식됨.

### ✅ 실무 팁:

- 스위치 간 trunk 연결 시 **Native VLAN이 서로 다르면 경고 메시지(CDP mismatch)**가 발생할 수 있음.
- 보안상 **Native VLAN을 VLAN 1에서 다른 VLAN으로 바꾸는 것**이 권장됨.

## 🖼️ 그림 설명

```
less
복사편집
[PC1]
  |
(Access Port, VLAN 10)
  |
[Switch A]
  |                ← 트렁크 연결 →                 (802.1Q 태그 사용)
  |--- VLAN 10 ---->[ Tag: VLAN 10 ]────────────┐
  |--- VLAN 20 ---->[ Tag: VLAN 20 ]────────────┘
                        |
                        v
                    [Switch B]
                      |
         ┌────────────┴────────────┐
         |                         |
(Access Port, VLAN 10)     (Access Port, VLAN 20)
      [PC3]                     [PC4]

```