---
layout: post
title: "gpt"
date: 2025-08-10
categories:
  - "CISCO_STUDY/Quick Guide/EIGRP"
tags:
---



# gpt

eigrp란?

### ChatGPT의 말:

EIGRP(Enhanced Interior Gateway Routing Protocol)는 **Cisco에서 개발한** 고급 라우팅 프로토콜입니다. RIP보다 발전된 형태의 **거리 벡터 기반 라우팅 프로토콜**로 분류되지만, 링크 상태 프로토콜의 장점도 일부 포함되어 있어서 **하이브리드 라우팅 프로토콜**이라고도 불립니다.

---

## ✅ 핵심 요약

| 항목 | 내용 |
| --- | --- |
| **종류** | 내부 게이트웨이 라우팅 프로토콜(IGP) |
| **라우팅 유형** | 거리 벡터 기반 (하이브리드) |
| **관리 거리** | 90 (내부), 170 (외부) |
| **알고리즘** | DUAL(Diffusing Update Algorithm) |
| **호프 제한** | 255 (기본 100) |
| **대역폭 기반** | 네, 기본 메트릭은 대역폭+지연 |
| **CIDR/VLSM 지원** | 예 |
| **멀티캐스트 주소** | 224.0.0.10 |
| **라우팅 업데이트 방식** | 부분적, 트리거 기반 업데이트 |
| **기본 인증** | MD5, SHA 등 지원 |
| **로드 밸런싱** | Equal 및 Unequal-Cost Load Balancing 지원 |

---

## 🧠 EIGRP의 특징

### 1. **DUAL(Diffusing Update Algorithm) 사용**

- 목적지까지 가장 빠르고 루프가 없는 경로를 선택
- 백업 경로(Feasible Successor)를 계산해서, 메인 경로에 문제가 생기면 빠르게 대체

### 2. **빠른 수렴 속도**

- 전체 라우팅 정보를 주기적으로 보내는 RIP와 달리, 변경된 정보만 트리거 방식으로 전송
- 이로 인해 수렴 속도가 매우 빠름

### 3. **계산되는 메트릭**

기본 메트릭은 다음 요소를 이용:

- 대역폭 (bandwidth)
- 지연 시간 (delay)
- 신뢰도 (reliability)
- 부하 (load)
- MTU (계산에는 사용되지 않지만 정보 제공됨)

⇒ 기본적으로는 **대역폭 + 지연(delay)** 기준으로 경로 선택

### 4. **VLSM, CIDR 지원**

- 클래스 없는 라우팅 가능
- 서브넷 마스크 정보를 함께 보내기 때문에 유연한 네트워크 설계 가능

### 5. **Unequal-Cost Load Balancing 지원**

- `variance` 명령어를 통해 비용이 다른 경로도 사용 가능

---

## 📡 EIGRP 동작 방식 요약

1. **Neighbor 형성**
    - `hello` 패킷을 보내 이웃 라우터 탐색 및 Neighbor 관계 형성
2. **Topology Table 구성**
    - Neighbor에게 받은 라우팅 정보를 통해 가능한 경로들을 Topology Table에 저장
3. **Successor 및 Feasible Successor 결정**
    - 가장 좋은 경로(Successor)와 백업 경로(Feasible Successor)를 선택
4. **Routing Table에 반영**
    - Successor 경로만 라우팅 테이블에 등록

---

## 🛠 관련 명령어 예시 (Cisco IOS 기준)

```bash
bash
복사편집
router eigrp 100
 network 192.168.1.0
 no auto-summary

```

```bash
bash
복사편집
show ip eigrp neighbors
show ip eigrp topology
show ip route eigrp

```

---

## 🔁 EIGRP 내부 vs 외부 경로

| 구분 | 설명 | 관리 거리 |
| --- | --- | --- |
| **내부 경로** | EIGRP 내에서 직접 학습한 경로 | 90 |
| **외부 경로** | Redistribution으로 들어온 외부 경로 (예: OSPF → EIGRP) | 170 |

---

## ✅ EIGRP vs OSPF 비교 간단 정리

| 항목 | EIGRP | OSPF |
| --- | --- | --- |
| 벤더 | Cisco 독자 개발 (지금은 표준화됨) | 표준 (RFC 2328) |
| 유형 | 하이브리드 | 링크 상태 |
| 메트릭 기준 | 대역폭, 지연 등 복합 | 대역폭 |
| 업데이트 방식 | 트리거 기반 | 링크 상태 변화 시 전체 flood |
| 속도 | 빠름 | 빠르지만 EIGRP보다 느릴 수 있음 |
| 설정 난이도 | 상대적으로 쉬움 | 다소 복잡 |

---

필요하면 `DUAL 알고리즘 구조`, `Feasible Distance vs Reported Distance`, `EIGRP 인증 방식`, `라우팅 재배포` 등에 대해서도 추가로 설명해줄 수 있어요.

### 나의 말:

eigrp hello, advertisement

### ChatGPT의 말:

EIGRP에서 `hello`와 `advertisement`는 네이버 형성과 라우팅 정보 교환에 **핵심적인 역할**을 합니다. 아래에서 각각의 의미와 동작 과정을 정리해드릴게요.

---

## ✅ 1. EIGRP Hello Packet (헬로 패킷)

### 💡 역할:

**이웃(Neighbor) 발견 및 유지 관리**

### 🔍 동작 방식:

- EIGRP 라우터는 주기적으로 **Hello 패킷**을 멀티캐스트(`224.0.0.10`)로 전송합니다.
- 수신 측이 응답하면 **Neighbor 관계**가 형성됩니다.
- Hello 패킷이 일정 시간(`Hold time`) 동안 오지 않으면 이웃이 다운된 것으로 간주합니다.

### 📐 기본 Hello 시간:

| 링크 종류 | 기본 Hello Interval | 기본 Hold Time |
| --- | --- | --- |
| 고속 링크(Ethernet 등) | 5초 | 15초 |
| 저속 링크(Serial 등) | 60초 | 180초 |

### 🛠 확인 명령어:

```bash
bash
복사편집
show ip eigrp neighbors

```

> → Hello 주기/응답 시간도 함께 확인 가능
> 

---

## ✅ 2. EIGRP Advertisement Packet (업데이트 광고 패킷)

### 💡 역할:

**라우팅 정보 전송 (Topology 정보 제공)**

### 🔍 동작 방식:

- Hello를 통해 Neighbor 관계가 맺어진 후, **Update 패킷(= Advertisement)** 으로 자신의 라우팅 정보를 이웃에게 전송합니다.
- 이때 **Topology Table**을 구성하는 정보가 전달됩니다.
- 변경 사항이 발생했을 때에만 트리거 방식으로 보냄 → RIP과 달리 주기적 전체 업데이트는 없음

### 📦 포함 정보:

- 목적지 네트워크
- 거리 정보 (Reported Distance)
- Delay, Bandwidth, Load 등 메트릭 요소
- Route Tag (외부 경로인지 등 표시)

### 🔄 관련 패킷 유형 요약 (EIGRP 메시지 종류):

| 종류 | 설명 |
| --- | --- |
| **Hello** | Neighbor 관계 형성 및 유지 |
| **Update (Advertisement)** | 라우팅 정보 전달 (Topology Table 구성용) |
| **Query** | 경로 손실 시 대체 경로 질의 |
| **Reply** | Query에 대한 응답 |
| **ACK** | Update/Query/Reply 패킷에 대한 확인 응답 (Hello는 ACK 불필요) |

---

## 🔁 간단 흐름 요약

1. **Hello Packet 교환**
    
    → Neighbor Table 형성
    
2. **Update Packet 전송**
    
    → Topology Table 구성
    
3. **DUAL 알고리즘 실행**
    
    → Successor/Feasible Successor 결정 → Routing Table 갱신
    

---

## 📘 명령어 예시: Hello & Update 관련 확인

```bash
bash
복사편집
debug eigrp packets

```

→ 실시간으로 Hello, Update, Query, Reply 패킷을 확인

```bash
bash
복사편집
show ip eigrp topology

```

→ Update 패킷을 통해 받은 목적지 정보(Topology Table)

---

필요하다면 EIGRP 패킷 포맷(Hello, Update 구조)이나 Query/Reply가 작동하는 DUAL 상세 흐름도 알려줄 수 있어요.

### 나의 말:

equal cost load balance

### ChatGPT의 말:

`Equal Cost Load Balancing`(동일 비용 경로 부하 분산)은 **라우터가 같은 목적지로 가는 경로 중, 메트릭이 동일한 여러 경로가 있을 때**, 그 **모든 경로를 동시에 사용하는 기능**입니다.

---

## ✅ Equal Cost Load Balancing이란?

**정의**:

라우팅 테이블에 동일한 메트릭 값을 가진 경로가 **2개 이상** 존재할 경우, 이를 모두 사용하여 **트래픽을 분산시키는 기능**

---

## 📦 지원 프로토콜 예시

| 라우팅 프로토콜 | Equal Cost Load Balancing 지원 여부 |
| --- | --- |
| **RIP** | 지원 |
| **EIGRP** | 지원 + 비슷한 비용도 지원 (`variance`) |
| **OSPF** | 지원 |
| **Static Routing** | 지원 (`ip route ...` 여러 개 등록 가능) |

---

## 🧠 어떻게 작동하나?

- 라우터는 **라우팅 테이블에 동일한 목적지에 대해 여러 경로를 유지**함
- 각각의 경로는 같은 메트릭(예: 대역폭, 지연 등)을 가짐
- **패킷 전송 시 라운드 로빈 또는 해시 방식**으로 분산

※ Cisco 라우터는 기본적으로 최대 **4개 경로까지 Load Balancing**

→ `maximum-paths` 명령어로 최대 16개까지 확장 가능

---

## 🛠 Cisco IOS 설정 예시

```bash
bash
복사편집
router eigrp 100
 maximum-paths 4   ! 최대 4개의 동일 비용 경로 사용

```

OSPF도 마찬가지로 설정 가능:

```bash
bash
복사편집
router ospf 1
 maximum-paths 4

```

---

## 📊 트래픽 분산 방식 (Cisco 기준)

| 분산 방식 | 설명 |
| --- | --- |
| **Per-Destination** (기본값) | 같은 목적지 IP로 가는 모든 트래픽은 동일 경로 사용 |
| **Per-Packet** | 패킷 단위로 다른 경로 사용 (더 세분화된 분산, 하지만 순서 뒤바뀔 위험) |

```bash
bash
복사편집
ip cef                       ! Cisco Express Forwarding 사용 시

```

```bash
bash
복사편집
interface FastEthernet0/0
 ip load-sharing per-packet

```

---

## 🧪 확인 명령어

```bash
bash
복사편집
show ip route [destination]

```

→ 동일 목적지로 여러 경로가 나열되어 있으면 Load Balancing 상태

```bash
bash
복사편집
show ip cef [destination]

```

→ CEF 분산 방식 및 경로 확인

---

## ⚠️ 주의할 점

- **Equal Cost**일 때만 작동 → 비용이 다르면 "Unequal Cost Load Balancing" 필요 (EIGRP만 지원)
- L2 스위치나 일부 장비에서는 해시 알고리즘 방식에 따라 **불균형한 분산** 가능
- **Per-packet** 방식은 트래픽 순서가 중요할 때(예: 음성/영상) 부적합

---

## ✅ 요약

| 항목 | 내용 |
| --- | --- |
| 기능 | 동일 메트릭 경로에 대해 부하 분산 |
| 전제 | 목적지 동일 + 경로 메트릭 동일 |
| 프로토콜 | RIP, EIGRP, OSPF 등 지원 |
| 라우터 설정 | `maximum-paths`, `ip cef`, `per-packet` 등 조정 |
| 사용 목적 | 대역폭 활용 극대화, 고가용성 확보 |

---

필요하면 **Unequal Cost Load Balancing (EIGRP의 variance)** 도 함께 설명해줄게요.

### 나의 말:

설명해줘

### ChatGPT의 말:

좋아요! 지금부터 **Equal Cost Load Balancing (ECMP)** 개념을 네트워크 입장에서 쉽게 풀어 설명해드릴게요.

---

## ✅ Equal Cost Load Balancing (동일 비용 부하 분산)이란?

라우터가 목적지까지 가는 **두 개 이상의 경로**를 알고 있을 때,

그 경로들의 **메트릭(비용)**이 **같다면**, 라우터는 **그 경로들을 동시에 사용**해서 트래픽을 분산시킬 수 있어요.

이걸 **Equal Cost Load Balancing**이라고 해요.

---

### 💡 왜 쓰나요?

- 하나의 경로만 쓰면 다른 좋은 경로가 놀고 있으니까 **비효율**
- 여러 경로를 같이 쓰면 → **대역폭도 늘고**, **장애 시 대비도 됨**
- 로드밸런싱으로 **성능 향상 + 가용성 증가**

---

## 📦 예시 상황

**EIGRP 사용 중**

라우터 A가 10.1.1.0/24로 가는 경로를 2개 알고 있어요:

- A → B → D → 목적지 (메트릭 100)
- A → C → D → 목적지 (메트릭 100)

**두 경로 모두 메트릭이 동일**하면, EIGRP는 **둘 다 라우팅 테이블에 등록**하고 **트래픽을 나눠서 전송**해요.

---

## 🛠 설정 방법 (Cisco IOS 기준)

### 1. EIGRP에서 기본 설정

```bash
bash
복사편집
router eigrp 100
 maximum-paths 4   ! 최대 4개의 동일 비용 경로를 유지

```

- EIGRP는 기본적으로 최대 4개의 동일 비용 경로를 유지합니다.
    
    (`maximum-paths`로 1~16까지 설정 가능)
    

### 2. OSPF도 동일

```bash
bash
복사편집
router ospf 1
 maximum-paths 2

```

---

## 🚀 분산 방식 (Cisco의 CEF 기준)

### ▫ Per-destination (기본)

- **같은 목적지 IP**는 항상 **같은 경로** 사용
- 패킷 순서가 꼬이지 않아서 안정적

### ▫ Per-packet (선택적)

- **패킷 하나하나마다 경로를 바꿔가며 전송**
- 더 균등한 분산이 되지만, **패킷 순서가 꼬일 수 있어서**
    
    음성/영상 스트리밍엔 적합하지 않음
    

```bash
bash
복사편집
interface Gig0/0
 ip load-sharing per-packet

```

---

## 🔍 확인 명령어

```bash
bash
복사편집
show ip route 10.1.1.0

```

- 해당 목적지로 가는 경로가 **2개 이상** 나오면 → Equal Cost Load Balancing 적용된 상태

```bash
bash
복사편집
show ip cef 10.1.1.0

```

- 어떤 인터페이스로 나가는지 확인 가능 (CEF 기반 로드밸런싱 확인)

---

## ⚠️ 주의할 점

| 주의사항 | 설명 |
| --- | --- |
| 메트릭이 같아야 함 | 비용이 다르면 ECMP 불가 (→ EIGRP는 `variance`로 해결 가능) |
| Per-packet은 순서 보장 안 됨 | TCP/스트리밍 트래픽에선 지연이나 꼬임 발생할 수 있음 |
| 일부 장비는 해시값으로 결정 | 항상 균등하게 나눠지진 않음 (특히 짧은 트래픽 흐름) |

---

## 📌 마무리 요약

| 항목 | 내용 |
| --- | --- |
| 정의 | 동일한 메트릭을 가진 경로들을 모두 사용하여 트래픽 분산 |
| 필요조건 | 목적지 동일, 메트릭 동일 |
| 적용 대상 | RIP, EIGRP, OSPF, Static 등 |
| 장점 | 대역폭 활용, 장애 시 대비, 부하 분산 |
| 주의 | TCP 순서 꼬임, 메트릭 차이 있으면 불가 |

---

원한다면 **Unequal Cost Load Balancing (비용 다른 경로도 같이 사용하는 방법)** 도 설명해줄게요. (EIGRP 전용 기능이에요.)

### 나의 말:

Unequal Cost Load Balancing을 설명해준다하지않앗어?

### ChatGPT의 말:

맞아요! 😄

Equal Cost Load Balancing을 설명한 뒤, **Unequal Cost Load Balancing**도 설명해주겠다고 했죠. 지금 바로 정리해드릴게요.

---

# ✅ Unequal Cost Load Balancing (비용이 다른 경로 부하 분산)

---

## 🔎 정의

> 라우터가 목적지까지 가는 여러 경로 중, 비용(메트릭)이 서로 다른 경로들도 함께 사용해서 트래픽을 분산하는 기술
> 

➡️ 이 기능은 **EIGRP만 가능**합니다. RIP, OSPF는 **Equal Cost만 지원**해요.

---

## 🧠 왜 필요한가?

- 일반적으로 라우터는 **가장 짧은 경로(메트릭이 낮은 경로)** 하나만 사용하거나
    
    **같은 비용의 경로만 사용**합니다.
    
- 하지만 **EIGRP는 ‘조금 더 나쁜 경로’도 일정 조건을 만족하면 함께 사용**할 수 있어요.
- 이 기능이 바로 **Unequal Cost Load Balancing**, 핵심 키워드는 👉 `variance`입니다.

---

## 🔧 어떻게 작동하나?

EIGRP의 **Successor** 경로가 기준이고,

다른 경로 중에서 **Feasible Successor(가능한 백업 경로)** 중

비용이 Successor보다 **크지만, 일정 범위 이내**면

그 경로도 함께 사용합니다.

---

### 📐 조건 정리

1. **Feasible Successor (FS)** 여야 함
    - 즉, 루프가 없다고 판단되는 안전한 경로
2. **Reported Distance ≤ Feasible Distance**
    - 이 조건이 있어야 FS로 인정됨
3. **FS의 메트릭 ≤ FD × Variance**
    - Variance는 우리가 설정하는 허용 배수 (기본값 1)

---

## 🛠 설정 방법

```bash
bash
복사편집
router eigrp 100
 variance 2    ! Successor보다 최대 2배까지 허용

```

- 위 설정이면, 메트릭이 Successor 경로의 **2배 이내인 Feasible Successor**들을 모두 라우팅 테이블에 넣고 Load Balancing함.

---

## 📊 예시

Successor 경로 메트릭(FD): **100**

Feasible Successor 경로 메트릭:

- 경로 A: 100 ✅
- 경로 B: 150 ✅ (`100 × 2 = 200` 이므로 허용 범위)
- 경로 C: 250 ❌ (`100 × 2 = 200` 초과) → 제외

> 즉, variance 2를 설정하면 B까지는 부하 분산 가능하지만 C는 안 됨
> 

---

## 🚚 분산 방식

- 트래픽 분산 비율은 각 경로의 **역비율(reverse of metric)**로 자동 계산됨
- 비율이 완전히 균등하진 않지만, 부하를 가볍게라도 분산시킬 수 있음

---

## 🔍 확인 명령어

```bash
bash
복사편집
show ip eigrp topology

```

→ 각 경로의 **FD, RD**와 FS 여부 확인

```bash
bash
복사편집
show ip route eigrp

```

→ 실제로 몇 개의 경로가 라우팅 테이블에 등록됐는지 확인

---

## ⚠️ 주의할 점

| 항목 | 설명 |
| --- | --- |
| variance만 올려도 FS 조건이 안 맞으면 안 됨 | 무조건 variance 값만으로 되지 않음 |
| loop 방지를 위한 FS 조건이 핵심 | RD ≤ FD 조건을 만족해야 FS로 인정 |
| RIP, OSPF는 지원 안 함 | EIGRP 전용 기능 |

---

## ✅ 요약 정리

| 항목 | 내용 |
| --- | --- |
| 기능 | 비용이 다른 경로도 함께 사용해 부하 분산 |
| 대상 | EIGRP 전용 |
| 핵심 조건 | FS 경로 + 메트릭이 FD × variance 이내 |
| 설정 명령어 | `variance [배수]` |
| 장점 | 효율적인 대역폭 활용, 유연한 경로 사용 |
| 제한 | 루프 방지 조건(FS) 만족해야 함 |

---

필요하면 이 내용을 그림으로 도식화하거나, Packet Tracer 실습용 예제도 만들어 드릴 수 있어요.

### 

### 나의 말:

eigrp는 Successor과 Feasible Successor를 최대 몇개까지 갖고잇을수잇지?

### ChatGPT의 말:

좋은 질문이에요! 실무에서 EIGRP의 경로 수 제한은 **트래픽 분산과 장애 대응에 직접적인 영향**을 줍니다.

바로 본론부터 말씀드릴게요.

---

## ✅ EIGRP에서 Successor & Feasible Successor의 최대 개수

| 항목 | 최대 개수 | 설명 |
| --- | --- | --- |
| **Successor** | **최대 16개** | 실제로 트래픽을 분산하여 사용하는 경로 (라우팅 테이블에 등록됨) |
| **Feasible Successor (FS)** | **이론상 무제한** | 예비 경로로만 유지, 라우팅 테이블엔 미등록 (Topology Table에만 존재) |

---

### 🔹 Successor 경로 – 최대 16개

- Successor는 **라우팅 테이블에 실질적으로 반영되는 경로**
- 기본값은 4개지만, `maximum-paths` 명령어로 최대 16개까지 확장 가능
- 단, **Equal Cost Load Balancing**이거나 **variance를 이용한 Unequal Cost Load Balancing** 조건을 만족해야 함

```bash
bash
복사편집
router eigrp 100
 maximum-paths 6   ! 최대 6개 경로까지 라우팅 테이블 등록

```

---

### 🔹 Feasible Successor – 제한 없음 (실무적으론 RAM 한계 내)

- **Successor보다 메트릭이 높지만, 루프 발생 가능성이 없는 안정한 경로**
- 조건: `Reported Distance(FS) < Feasible Distance(Successor)`
- 이 경로들은 Routing Table에는 안 들어가고, **Topology Table에만 존재**
- Successor에 장애가 생기면 즉시 FS로 전환 → 수렴 속도가 매우 빠름

---

## 📘 예시 상황

- 라우터 A가 목적지 10.1.1.0/24에 대해
    - 메트릭이 100인 경로: Successor (라우팅 테이블에 등록됨)
    - 메트릭이 120, 130, 150인 경로들 중 FS 조건을 만족하면 모두 Topology Table에 들어갈 수 있음

→ 하지만 Routing Table에는 최대 `16개까지`만 반영됨 (Successor)

---

## 🛠 확인 명령어

```bash
bash
복사편집
show ip eigrp topology

```

→ Successor와 FS 경로의 Reported Distance / Feasible Distance 비교 가능

```bash
bash
복사편집
show ip route eigrp

```

→ 실제 라우팅 테이블에 반영된 Successor 경로 확인 가능

---

## ✅ 요약

| 용어 | 최대 개수 | 저장 위치 | 역할 |
| --- | --- | --- | --- |
| **Successor** | 16개 (기본 4) | Routing Table | 실제 트래픽 전송 |
| **Feasible Successor** | 제한 없음 | Topology Table | 예비 경로, 장애 발생 시 사용 |

---

궁금하시면 "Successor/FS 판단 조건", "variance로 Successor 확장되는 구조", "실제 실습 예제" 등도 추가로 설명해드릴게요.

### 나의 말:

Feasible Distance로 전환해도 다른라우터에 query를보내나?

### ChatGPT의 말:

아주 중요한 질문이에요.

결론부터 말씀드리면:

> Feasible Successor(FS)가 존재하면 → 다른 라우터에 Query를 보내지 않습니다.
> 
> 
> **FS가 없으면 → Query를 이웃 라우터들에게 보냅니다.**
> 

---

## ✅ 왜 FS가 있으면 Query를 안 보내나?

### 📌 이유 1: DUAL 알고리즘의 목적은 **빠른 수렴과 루프 방지**

- FS는 **루프가 없다고 증명된 경로**입니다.
- 즉, EIGRP는 장애 발생 시 이미 믿을 수 있는 백업 경로(FS)를 알고 있으므로
    
    → **바로 전환할 수 있어요.**
    

### 📌 이유 2: DUAL은 “사전 계산” 구조

- Successor 장애 시 DUAL은 미리 계산된 FS로 “즉시 전환”
- 전환 과정에서 **다른 라우터와 협의할 필요 없음 → Query 불필요**

---

## 🔁 반대로, FS가 없다면?

- EIGRP는 “내가 가는 길이 끊겼는데, 너 혹시 다른 길 아니?”라고 묻기 위해
    
    **Query 패킷을 이웃 라우터에게 보냅니다.**
    
- 모든 이웃에게 전송하며, **Reply가 돌아올 때까지 해당 경로는 Active 상태**가 됩니다.

> 이 과정을 Active 상태 전이라고 하고, 수렴이 지연됩니다.
> 
> 
> → FS가 없으면 수렴 속도가 느려지고, Query가 많아지면 CPU 부하도 커져요.
> 

---

## 📘 예시 흐름 비교

### ▶️ FS가 있을 때:

```
markdown
복사편집
1. 링크 장애 발생
2. EIGRP DUAL 확인: FS 존재
3. → 바로 FS로 전환
4. → 라우팅 테이블 갱신 (Query 없음)

```

### ▶️ FS가 없을 때:

```
markdown
복사편집
1. 링크 장애 발생
2. EIGRP DUAL 확인: FS 없음
3. → Query 패킷 전송 (모든 이웃에게)
4. → 이웃의 Reply 수신까지 기다림
5. → 새로운 Successor 찾으면 반영

```

---

## 🧠 실무 요점

| 상황 | Query 전송 여부 | 수렴 속도 | CPU 부하 |
| --- | --- | --- | --- |
| FS 존재 | ❌ 전송 안 함 | 빠름 | 낮음 |
| FS 없음 | ✅ 전송함 | 느림 (Active 상태) | 높아질 수 있음 |

---

## 🔍 확인 방법

```bash
bash
복사편집
show ip eigrp topology

```

- Successor/FS 상태 확인 가능
- 경로가 **Passive**이면 안정 상태,
    
    **Active**이면 Query 보내고 응답 기다리는 중
    

---

## ✅ 마무리 요약

| 질문 | 답변 |
| --- | --- |
| **FS가 있을 때, Query 보내나?** | ❌ 보내지 않음 (즉시 전환) |
| **FS가 없으면?** | ✅ Query를 모든 이웃에게 전송 |

---

추가로 `Active 상태`, `Query propagation 지연`, `Stub router 설정으로 Query 방지` 같은 실무 고급 개념도 궁금하시면 더 알려드릴게요.