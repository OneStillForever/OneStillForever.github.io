---
layout: post
title: "EIGRP"
date: 2025-08-10
categories:
  - "CISCO_STUDY/Quick Guide"
tags:
---


# EIGRP

# 📡 EIGRP 정리 (Enhanced Interior Gateway Routing Protocol)

---

## 🔷 1. EIGRP 개요

| 항목 | 내용 |
| --- | --- |
| **프로토콜 종류** | Hybrid Routing Protocol (Advanced Distance Vector) |
| **라우팅 알고리즘** | DUAL (Diffusing Update Algorithm) |
| **메트릭 요소** | Bandwidth, Delay, Reliability, Load, MTU (단, 기본은 대역폭 + 지연만 사용) |
| **라우팅 방식** | Partial Update (변경 시에만 전송), 멀티캐스트 224.0.0.10 |
| **CIDR/VLSM 지원** | O (지원) |
| **Autonomous System (AS)** | EIGRP 라우팅 도메인 구분자. 숫자가 다르면 공유 안 됨. |
| **Hop Count 한도** | 최대 255 (ISP: 보통 10~30대) |
| **라우팅 테이블 거리** | AD 90 (내부), 170 (외부) |
| **Load Balancing** | Equal Cost & Unequal Cost 지원 (`variance`) |
| **인증 방식** | MD5 (취약, 현재 잘 안 씀), SHA256 등 |
| **장비 호환성** | Cisco 전용 프로토콜이었지만, 2017년 이후 IETF에 의해 오픈 스펙 공개됨 |

---

## 🔷 2. EIGRP 구성 테이블 3종

| 테이블 | 설명 |
| --- | --- |
| **Neighbor Table** | 인접한 라우터 목록 (Hello로 형성) |
| **Topology Table** | 모든 가능한 경로를 저장 (Successor, FS 판단용) |
| **Routing Table** | 실제로 사용하는 경로만 포함 (Successor만 반영됨) |

> ※ 트러블슈팅 시에는 Neighbor → Topology → Routing Table 순으로 확인
> 

---

## 🔷 3. EIGRP 동작 순서 (기본 흐름)

```mermaid
mermaid
복사편집
graph TD
  A[1. Hello 패킷 전송 (주기적)] --> B[2. Neighbor 형성]
  B --> C[3. Update(Advertisement) 패킷 전송 (Topology 공유)]
  C --> D[4. DUAL 알고리즘으로 최적 경로 선택]
  D --> E[5. Routing Table에 반영]

```

| 단계 | 설명 |
| --- | --- |
| ① Hello | 이웃 라우터 찾기. EIGRP 시작 시, 각 포트로 Hello 전송 (OSPF도 동일) |
| ② Neighbor 형성 | 상대도 EIGRP일 경우, Neighbor Table에 등록 |
| ③ Update (Advertisement) | 전체 경로 정보를 상호 교환하여 Topology Table 구성 |
| ④ DUAL 알고리즘 | Successor 및 Feasible Successor 계산 |
| ⑤ Routing Table 반영 | Successor 경로만 실제 라우팅 테이블에 등록 |

---

## 🔷 4. EIGRP 패킷 종류

| 패킷 종류 | 설명 |
| --- | --- |
| **Hello** | Neighbor 탐색 및 유지. 주기적 전송. ACK 불필요 |
| **Update** | 라우팅 정보 전송. Topology Table 구성용 |
| **Query** | 경로 손실 시 대체 경로 질의 |
| **Reply** | Query에 대한 응답 |
| **ACK** | Update/Query/Reply에 대한 확인 응답 (Hello 제외) |

---

## 🔷 5. Load Balancing

| 종류 | 설명 |
| --- | --- |
| **Equal Cost Load Balancing** | 메트릭이 동일한 경로들을 동시에 사용 (기본 4개, 최대 16개까지) |
| **Unequal Cost Load Balancing** | 메트릭이 다른 경로도 사용 (`variance`로 허용 범위 지정) |
| ➕ 조건 | FS 경로여야 하며, FD × variance 이상 넘지 않아야 함 |

---

## 🔷 6. Hello & Hold Timer

| 항목 | 의미 | 설명 |
| --- | --- | --- |
| **Hello Interval** | Hello 패킷 전송 주기 | 기본: 5초(Ethernet), 60초(Serial) |
| **Hold Time** | Neighbor 유지 시간 | 기본: Hello × 3 → 15초 또는 180초 |
| → Hello 못 받으면 Neighbor 삭제됨 |  |  |

---

## 🔷 7. 주요 명령어

```bash
bash
복사편집
router eigrp 100                  ! Autonomous System 100으로 EIGRP 시작
 network 192.168.1.0              ! EIGRP에 포함시킬 네트워크 설정
 no auto-summary                  ! 자동 클래스 요약 비활성화

show ip eigrp neighbors           ! Neighbor 상태 확인
show ip eigrp topology            ! Topology Table (Successor, FS, RD, FD 등)
show ip route eigrp              ! EIGRP 라우팅 테이블만 보기

```

---

## 🔷 8. 라우팅 테이블 표기 예시

```bash
bash
복사편집
D 203.230.7.0/24 [90/5376] via 203.230.8.1, 00:01:17, GigabitEthernet0/0

```

| 항목 | 의미 |
| --- | --- |
| `D` | EIGRP (Distance vector 기반) |
| `90` | Administrative Distance |
| `5376` | Metric (메트릭 기준으로 Successor 결정됨) |
| `203.230.8.1` | Next-hop IP |
| `GigabitEthernet0/0` | 출구 인터페이스 |

---

## 🔷 9. 기타 특이 사항

- **Auto-summary**: 기본으로 활성화되어 있어 클래스 단위로 묶임 → `no auto-summary`로 꺼주는 것이 일반적
- **EIGRP 간 AS 번호 다르면 Neighbor 안 됨**
- **EIGRP는 RIP처럼 주기적으로 전체 라우팅 정보를 보내지 않고, 변화가 생겼을 때만 partial update 보냄**
- **EIGRP는 서브넷, VLSM, CIDR 완전 지원**

---

---

---

[txt](EIGRP%2022bf223521738027a43bf7de0ae10adb/txt%2022bf2235217380dc825fc791621f8c17.md)

[gpt](EIGRP%2022bf223521738027a43bf7de0ae10adb/gpt%2022bf22352173809ba7f0e5f5a60c1cd3.md)

[eigrp 명령어](EIGRP%2022bf223521738027a43bf7de0ae10adb/eigrp%20%E1%84%86%E1%85%A7%E1%86%BC%E1%84%85%E1%85%A7%E1%86%BC%E1%84%8B%E1%85%A5%2022bf2235217380dfb468d4612546b0cb.md)