---
layout: post
title: "OSPF V2"
date: 2025-08-10
categories:
  - "CISCO_STUDY/Quick Guide"
tags:
---


# OSPF V2

default route without gateway, if not a point-to-point interface, may impace performance

의미와 multi access, point to point

## ✅ 요약: OSPF에서 /32 경로가 저장되는 이유

| 경로 유형 | /32로 저장되는 이유 |
| --- | --- |
| **Loopback 인터페이스** | Loopback은 기본적으로 **호스트 주소(/32)**로 광고됨 |
| **Passive 인터페이스** | Hello 패킷을 안 보내므로 인접 라우터 형성 X → /32로만 광고 |
| **Router-ID를 위한 경로** | OSPF는 각 라우터를 식별하기 위해 Loopback 주소를 /32로 저장 |
| **Point-to-Point 링크의 인터페이스 주소** | 인접 라우터 주소만 정확히 알면 되므로 /32 가능 |

## 🔄 혼동 포인트 정리

| 구분 | `ip ospf network point-to-point` | P2P 링크에서 /32로 저장되는 현상 |
| --- | --- | --- |
| 무슨 개념인가 | 인터페이스의 **네트워크 유형 설정** | **라우팅 테이블 표현 방식** |
| 어디서 설정? | `interface` 모드 | 자동으로 결정됨 (OSPF 내부 처리) |
| 영향을 주는 대상 | **LSA 전송 방식, DR/BDR 여부, Hello 처리 방식** | **라우팅 테이블에서 목적지 경로 표현** |
| 요약 주소인가? | ❌ 광고 방식만 조절 | ✅ 한 IP만 명확히 지칭 |
| 라우팅 테이블에 /32? | ❌ Loopback이 아닌 이상 보통은 원래 서브넷 대로 표시 | ⭕ 목적지 주소 하나만 필요할 때 /32로 저장 |

### 1. `ip ospf network point-to-point`

→ **OSPF 인터페이스의 동작 방식을 Point-to-Point 유형으로 설정**

- 원래 Ethernet은 Broadcast 타입 → DR/BDR 선출됨
- 이 명령으로 **Broadcast → Point-to-Point로 강제 전환**
- 효과:
    - DR/BDR 선출 없음
    - Hello/Dead timer 변경됨 (10/40sec)
    - **라우팅 정보는 실제 인터페이스 IP/서브넷 대로 광고됨** (즉, `/32`가 아님)

Ospf
Area 0
대규모

single area ospf(Backbone Area), multi area ospf

1.hello
2.dbd(lsa)->topo table 생성
3.SPF통해

1.Hello
2.neighbor
3.(topology table)
4.DBD(lsa포함),SPF(다익스트라알고리즘중 하나)

100mbps를 전제로 만들어져서  1G 10G차이가없음 그래서 그걸 차이를 두는 기술을써야함

트래픽예측, 트래픽우회,

멀티액세스

Virtual link

Process Id(eigrp의 as와는 다르게 관리,1-n ospf프로토콜)

a1-abr-a0-abr-a2 경계의 abr라우터
토폴로지끝의 edge라우터(stub네트워크)

모든
database descrioption packte
lsa(link satate advertisment)
link-state request packet
link-state update packet
link-state acknowledgment packet

저게 redistributed

O
OIA (다른 area에서 학습한거)
OE1
OE2 (다른 라우팅프로토콜에서 학습한거)

패킷
authenticaiton 2개(같은area, 다른 area)
dear interval = hold down(eigrp)

point-to-point = serial
이더넷연결 = 멀티액세스(DR, BDR)
이더넷으로 R1-R2만 연결된경우 point-to-point으로 설정

DR,BDR 자동설정기준 라우터ID
priority값은 재부팅해야함

시리얼없어진지 3,4년됨 전부 gigabit

!!!!!! auto cost reference bandwidth
라우터간 hello dead interval 동일해야함 !!!!

ip ospf hello(dead)-interval 가능하면써주자

57페이지

66페이지 isp라고 가정했을때로 작성임

내일 multi area

루프백cost는 항상 1로 세팅됨

longest match
서브넷이

---

---

1 실제 장비
메뉴얼tip
2 showrun을 gui로 gui->config

알고있는개념중 VLAN?

---

---

R1(A1),R2(A0,A1),R3(),ISP
ABR R2 = A1 A0 경계상의 라우터
Internal Router = R1

BackboneAreaRouter = A0의 라우터 R1,R2,R3
ASBR ISP = R1

ip cdf cbf?

default route without gateway, if not a point-to-point interface, may impace performance
게이트웨이없이 디폴트라우트, ptp(serial)아닐때, 퍼포먼스에 영향줄수도있다

hello 패킷엔 별거없음

그냥 예약된 멀티캐스트 주소 224.0.0.5를 보냄

ARP

Who has 192.168.118.130? Tell 192.168.118.2(Request)

어떤 장비가 192.168.118.130 이라는 아이피 주소를 가지고 있어? 192.168.118.2에게 말해줘.

- > 192.168.118.130이라는 아이피 주소를 가진 장비의 **MAC주소를 알고 싶을 때 보내는 패킷**

192.168.118.130 is at 00:50:56:c0:00:08(Reply)

[LSA](OSPF%20V2%20230f22352173801fa577e55f447c2e8b/LSA%20234f22352173808f9093dfe52d6855da.md)

[OSPF virtual link](OSPF%20V2%20230f22352173801fa577e55f447c2e8b/OSPF%20virtual%20link%20234f2235217380689dd9d7f9e01afbd1.md)