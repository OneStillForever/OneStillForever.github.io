# project config

전체기본설정

no ip domain lookup

hostname

ip domain name (중복금지)

ip routing(l3만)

service password-encryption

enable secret cisco

ip ssh version2

Username **cisco** privilige 15 password **cisco** 

crypto key generate rsa

line con 0

exec-time 0 0

logg sync

password cisco

login

line vty 0 4

login local

transport input ssh

# Router

| **R1**
hostname R1
ip domain name R1.com
service password-encryption
enable secret cisco
ip ssh version 2
username cisco privilege 1 password cisco
no ip domain lookup
crypto key generate rsa

line con 0
exec-time 0 0
logg sync
password cisco
login

line vty 0 4
login local
transport input ssh

****int loop 0
ip add 10.0.0.1 255.255.255.252
exit

int gi0/0
no shut
ip add 172.16.0.5  255.255.255.252
exit

int s0/0/1
no shut
ip add 172.16.0.1  255.255.255.252
exit

router ospf 1
router-id 1.1.1.1
network 172.16.0.1 0.0.0.0 area 0
network 172.16.0.5 0.0.0.0 area 0
default-information originate always
exit

do wr
 |
| --- |
| crypto key generate rsa |
| **<R3>**

en
conf t
hostname R3
no ip domain lookup
line console 0
logging sync
exec-timeout 0
exit

int gi0/0
ip add 172.16.0.17 255.255.255.252
no shut
exit

int gi0/1
ip add 172.16.0.6 255.255.255.252
no shut
exit

int se0/0/1
ip address 172.16.0.13 255.255.255.252
no shut
exit

int lo 0
ip add 30.0.0.1 255.255.255.252
exit

router ospf 1
router-id 3.3.3.3
network 172.16.0.6 0.0.0.0 area 0
network 172.16.0.13 0.0.0.0 area 0
network 172.16.0.17 0.0.0.0 area 0
exit |
| **R4**
hostname R4
no ip domain lookup
line console 0
logging syngronos
exec-timeout 0
exit

int gi0/1
ip add 172.16.0.10 255.255.255.252
no shut
exit
int gi0/0
ip add 172.16.0.21 255.255.255.252
no shut
exit
int se 0/0/1
ip add 172.16.0.14 255.255.255.252
no shut
exit

int loopback 0
ip add 40.0.0.1 255.255.255.252

service password-encryption
enable pass cisco

ip domain-name R4.com
crypto key generate rsa
1024
ip ssh version 2

line vty 0 4
transport input ssh
login local
exit

line console 0
password cisco
login

router ospf 1
router-id 4.4.4.4
network 172.16.10 0.0.0.0 area 0
network 172.16.22 0.0.0.0 area 0
network 172.16.14 0.0.0.0 area 0
network 40.0.0.1 0.0.0.0 area 0
exiti |

# L3

| L3SW1
hostname L3SW1
ip domain name L3SW1[.com](http://r1.com/)
service password-encryption
enable secret cisco
ip ssh version 2
Username cisco privilege 1 password cisco
no ip domain lookup
ip routing
crypto key generate rsa

line con 0
exec-time 0 0
logg sync
password cisco
login

line vty 0 4
login local
transport input ssh

int fa0/1
no shut
no switch
ip add 172.16.0.37 255.255.255.252

int fa0/6
no shut
no switch
ip add 172.16.0.29 255.255.255.252

int fa0/2
no shut
switchport
exit

vlan 40
name vlan40
vlan 50
name vlan50

interface vlan40
ip address 192.168.40.2 255.255.255.0
standby 1 ip 192.168.40.1
standby 1 priority 115
standby 1 preempt
standby 1 track fa0/1 10
standby 1 track fa0/6 10

interface vlan50
ip address 192.168.50.2 255.255.255.0
standby 1 ip 192.168.50.1
standby 1 priority 100
standby 1 preempt

router ospf 1
router-id 11.11.11.11
network 172.16.0.37 0.0.0.0 area 1
network 172.16.0.29 0.0.0.0 area 1
network 192.168.40.2 0.0.0.0 area 1
network 192.168.50.2 0.0.0.0 area 1
passive-interface vlan 40
passive-interface vlan 50

 |
| --- |
| L3SW2
int lo 0
ip add 20.20.20.20 255.255.255.0

interface fa0/1
no sw
no shut
ip address 172.16.0.34 255.255.255.252

interface fa0/6
no sw
no shut
ip address 172.16.0.30 255.255.255.252

router ospf 1
router-id 20.20.20.20
network 172.16.0.34 0.0.0.0 area 1
network 172.16.0.30 0.0.0.0 area 1
network  20.20.20.20 0.0.0.0 area 1
network 192.168.40.3 0.0.0.0 area 1
network 192.168.50.3 0.0.0.0 area 1
passive-interface vlan 40
passive-interface vlan 50

vlan 40
name vlan40
vlan 50
name vlan50

interface vlan40
ip address 192.168.40.3 255.255.255.0
standby 1 ip 192.168.40.1
standby 1 priority 100
standby 1 preempt

interface vlan50
ip address 192.168.50.3 255.255.255.0
standby 1 ip 192.168.50.1
standby 1 priority 115
standby 1 preempt
standby 1 track fa0/1 10
standby 1 track fa0/6 10

ip domain-name [L3SW2.com](http://l3sw2.com/)
service password-encryption
crypto key generate rsa      ( -> 1024)
ip ssh version 2
username cisco password 0 cisco
line vty 0 4
login local
transport input ssh
enable secret cisco |
| **L3SW3**

ip routing
no ip domain-lookup
ip domain-name [L3SW3.com](http://l3sw3.com/)
ip ssh version 2

line con 0
exec-timeout 0 0
password cisco
logging synchronous
login
line vty 0 4
login local
transport input ssh
login

int loopback 0
ip address 33.33.33.33 255.255.255.252
exit

interface FastEthernet0/1
no switchport
ip address 172.16.0.18 255.255.255.252

int fa0/2
sw
no shut
exit

int fa0/3
sw
no shut
exit

int fa0/4
sw
no shut
exit

interface FastEthernet0/5
no switchport
ip address 172.16.0.33 255.255.255.252

interface FastEthernet0/6
no switchport
ip address 172.16.0.25 255.255.255.252

interface Vlan10
ip address 192.168.10.3 255.255.255.0
standby 1 ip 192.168.10.1
standby 1 priority 115
standby 1 preempt

interface Vlan20
ip address 192.168.20.3 255.255.255.0
standby 1 ip 192.168.20.1
standby 1 priority 115
standby 1 preempt

interface Vlan30
ip address 192.168.30.3 255.255.255.0
standby 1 ip 192.168.30.1
standby 1 priority 95
standby 1 preempt

router ospf 1
router-id 33.33.33.33
log-adjacency-changes 
network 33.33.33.33 0.0.0.0 area 0
network 172.16.0.18 0.0.0.0 area 0
network 172.16.0.25 0.0.0.0 area 1
network 172.16.0.33 0.0.0.0 area 1
network 192.168.10.3 0.0.0.0 area 2
network 192.168.20.3 0.0.0.0 area 2
network 192.168.30.3 0.0.0.0 area 2

 |
| **L3SW4**

ip routing
hostname L3SW4
****no ip domain lookup
line console 0
logging synchronous
exit
username cisco privilege 15 password cisco
****ip domain-name L3SW4.com
crypto key generate rsa → 1024
ip ssh version 2

line vty 0 4
transport input ssh
login local
exit

line console 0
password cisco
login
exit

int loopback 0
ip add 40.0.0.2 255.255.255.252
exit

int fa0/1
no switchport
ip add 172.16.0.22 255.255.255.252
no shut
exit

int fa 0/5
no switchport
ip add 172.16.0.38 255.255.255.252
no shu
exit

int fa0/6
no switchport
ip add 172.16.0.26 255.255.255.252
no shut
exit

int vlan 10
ip add 192.168.10.2 255.255.255.0
standby 1 ip 192.168.10.1
standby 1 priority 95
standby 1 preempt

int vlan 20
ip add 192.168.20.2 255.255.255.0
standby 1 ip 192.168.20.1
standby 1 priority 95
standby 1 preempt

int vlan 30
ip add 192.168.30.2 255.255.255.0
standby 1 ip 192.168.20.1
standby 1 priority 115
standby 1 preempt

router ospf 1
router id 40.40.40.40
log-adjacency-changes
area 1 virtual-link 11.11.11.11 authentication message-digest
area 1 virtual-link 11.11.11.11 message-digest-key 1 md5 cisco
network 40.0.0.2 0.0.0.0 area 0
network 172.16.09.22 0.0.0.0 area 0
network 172.16.0.38 0.0.0.0 area 1
network 172.16.0.26 0.0.0.0 area 1
network 192.168.10.2 0.0.0.0 area 1
network 192.168.20.2 0.0.0.0 area 1 
network 192.168.30.2 0.0.0.0 area 1
exit

vlan 10
name VLAN_10
vlan 20
name VLAN_20
vlan 30
name VLAN_30 |

# L2

| L2SW1
hostname L2SW1
ip domain name L2SW1[.com](http://r1.com/)
service password-encryption
enable secret cisco
ip ssh version 2
Username cisco privilege 1 password cisco
no ip domain lookup
crypto key generate rsa

line con 0
exec-time 0 0
logg sync
password cisco
login

line vty 0 4
login local
transport input ssh

vlan 40
name vlan40
vlan 50
name vlan50

interface fa0/1
switchport mode trunk
switchport trunk allowed vlan 40,50

interface fa0/2
switchport mode trunk
switchport trunk allowed vlan 40,50

int fa0/3
switchport access vlan 40
switchport mode access
 |
| --- |
| L2SW2
ip domain-name [L2SW2.com](http://l2sw2.com/)
service password-encryption
crypto key generate rsa      ( -> 1024)
ip ssh version 2
username cisco password 0 cisco
line vty 0 4
login local
transport input ssh

vlan 10
name vlan10
vlan 999
name NATIVE_BLOCK

interface fa0/1
switchport mode trunk
switchport trunk allowed vlan 10

interface fa0/2
switchport mode trunk
switchport trunk allowed vlan 10

int fa0/3
switchport mode access
switchport access vlan 10

int fa0/4
switchport mode access
switchport access vlan 10

interface range fa0/5-24
shutdown
switchport mode access
switchport access vlan 999s |
| **L2SW3** 

hostname L2SW3
username cisco privilege 15 password cisco
service password-encryption

ip ssh version 2

interface FastEthernet0/1
 switchport mode trunk

interface FastEthernet0/2
switchport mode trunk

interface FastEthernet0/3
switchport access vlan 20
switchport mode access

interface FastEthernet0/4
switchport access vlan 20
switchport mode access

int range fa0/5-24
shutdown

int range gi0/1-2
shutdown
 |
| L2SW4
Hostname L2SW4
no ip domain lookup
line console 0
logging sync
exec-timeout 0
exit

username cisco privilege 15 password cisco
ip domain-name L2SW4.com
crypto key generate rsa → 1024
ip ssh version 2

line  vty 0 4
transport input ssh
login local
exit

line console 0
password cisco
login
exit

vlan 10
name VLAN_10
vlan20
name VLAN_20
vlan30
name VLAN_30

int fa 0/1
switchport mode trunk
exit
int fa 0/2
switchport mode trunk
exit |
|  |